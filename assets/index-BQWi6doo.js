import{c as r,I as V,_ as $,u as U,r as g,a as L,b as P,d as m,t as f,w as n,e as c,f as j,o as B,g as v,U as M,h}from"./index-B8LRHCPB.js";import{p as N}from"./request-CVyLGzBl.js";var H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function b(o){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),i.forEach(function(s){I(o,s,a[s])})}return o}function I(o,t,a){return t in o?Object.defineProperty(o,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[t]=a,o}var _=function(t,a){var i=b({},t,a.attrs);return r(V,b({},i,{icon:H}),null)};_.displayName="LockOutlined";_.inheritAttrs=!1;const R={class:"login-container"},q={class:"login-box"},C={class:"login-title"},D={__name:"index",setup(o){const t=j(),a=U(),i=g(),s=g(!1),u=L({username:"admin",password:"123456",remember:!0}),w={username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"}]},O=async l=>{try{s.value=!0;const e=await N("user.login",l);e.success?(await a.login(e.data),t.push("/")):message.error(e.message)}catch(e){console.error(e)}finally{s.value=!1}};return(l,e)=>{const y=c("a-input"),p=c("a-form-item"),k=c("a-input-password"),x=c("a-checkbox"),z=c("a-button"),S=c("a-form");return B(),P("div",R,[m("div",q,[m("div",C,[m("h1",null,f(l.$t("app.title")),1),m("p",null,f(l.$t("login.title")),1)]),r(S,{ref_key:"formRef",ref:i,model:u,rules:w,onFinish:O},{default:n(()=>[r(p,{name:"username"},{default:n(()=>[r(y,{value:u.username,"onUpdate:value":e[0]||(e[0]=d=>u.username=d),size:"large",placeholder:l.$t("login.username")},{prefix:n(()=>[r(v(M))]),_:1},8,["value","placeholder"])]),_:1}),r(p,{name:"password"},{default:n(()=>[r(k,{value:u.password,"onUpdate:value":e[1]||(e[1]=d=>u.password=d),size:"large",placeholder:l.$t("login.password")},{prefix:n(()=>[r(v(_))]),_:1},8,["value","placeholder"])]),_:1}),r(p,null,{default:n(()=>[r(x,{checked:u.remember,"onUpdate:checked":e[2]||(e[2]=d=>u.remember=d)},{default:n(()=>[h(f(l.$t("login.rememberMe")),1)]),_:1},8,["checked"])]),_:1}),r(p,null,{default:n(()=>[r(z,{type:"primary","html-type":"submit",size:"large",loading:s.value,block:""},{default:n(()=>[h(f(l.$t("login.login")),1)]),_:1},8,["loading"])]),_:1}),e[3]||(e[3]=m("div",{class:"login-tip"}," 默认账号：admin / 123456 ",-1))]),_:1},8,["model"])])])}}},F=$(D,[["__scopeId","data-v-c94d7042"]]);export{F as default};
