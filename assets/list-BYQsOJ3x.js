import{_ as E,r as C,b as F,c as $,j as O,k as R,d as U,e as c,f as a,w as t,g as n,l as q,m,h as A,o as G,i as h,t as d,q as M,P as H,p as J,s as K,v as L}from"./index-DzzIDgkI.js";const Q={class:"task content-container"},W={class:"table-container"},X={class:"table-header"},Y={class:"left"},Z={class:"right"},x=["onClick"],ee={class:"danger"},ae={__name:"list",setup(te){const g=A(),p=C(!1),{t:l}=F(),o=$({taskGroupName:"",taskName:""}),T=O(()=>[{title:l("task.group.name"),dataIndex:"taskGroupName",key:"taskGroupName"},{title:l("task.group.createTime"),dataIndex:"createTime",key:"createTime",sorter:!0},{title:l("task.group.updateTime"),dataIndex:"updateTime",key:"updateTime",sorter:!0},{title:l("common.operation"),key:"action",fixed:"right",width:180}]),v=C([]),r=$({current:1,pageSize:10,total:0}),y=()=>{r.current=1,u()},w=()=>{o.taskGroupName="",o.taskName="",y()},S=e=>{Object.assign(r,e),u()},I=()=>{g.push("/taskGroup/create")},P=e=>{g.push(`/taskGroup/edit/${e.id}`)},B=async e=>{try{const s=await L("taskGroup.delete",{},{urlParams:{id:e.id}});s.code===0?(m.success(l("common.deleteSuccess")),u()):m.error(s.message)}catch{m.error(l("common.deleteFailed"))}},u=async()=>{p.value=!0;try{const e=await q("taskGroup.list",{page:r.current,pageSize:r.pageSize,...o});e.code===0?(v.value=e.data.list,r.total=e.data.total):m.error(e.message)}finally{p.value=!1}};return R(async()=>{u()}),(e,s)=>{const N=n("a-input"),_=n("a-form-item"),k=n("a-button"),f=n("a-space"),D=n("a-form"),V=n("a-popconfirm"),z=n("a-table");return G(),U("div",Q,[c("div",W,[c("div",X,[c("div",Y,[a(D,{layout:"inline",model:o},{default:t(()=>[a(_,{label:e.$t("task.search.taskGroupName")},{default:t(()=>[a(N,{value:o.taskGroupName,"onUpdate:value":s[0]||(s[0]=i=>o.taskGroupName=i),placeholder:e.$t("common.inputPlaceholder"),"allow-clear":""},null,8,["value","placeholder"])]),_:1},8,["label"]),a(_,{label:e.$t("task.search.taskName")},{default:t(()=>[a(N,{value:o.taskName,"onUpdate:value":s[1]||(s[1]=i=>o.taskName=i),placeholder:e.$t("common.inputPlaceholder"),"allow-clear":""},null,8,["value","placeholder"])]),_:1},8,["label"]),a(_,null,{default:t(()=>[a(f,null,{default:t(()=>[a(k,{type:"primary",onClick:y},{default:t(()=>[h(d(e.$t("common.search")),1)]),_:1}),a(k,{onClick:w},{default:t(()=>[h(d(e.$t("common.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),c("div",Z,[a(f,null,{default:t(()=>[a(k,{type:"primary",onClick:I},{icon:t(()=>[a(M(H))]),default:t(()=>[h(" "+d(e.$t("task.group.create")),1)]),_:1})]),_:1})])]),a(z,{columns:T.value,"data-source":v.value,loading:p.value,pagination:r,onChange:S},{bodyCell:t(({column:i,record:b})=>[i.key==="action"?(G(),J(f,{key:0},{default:t(()=>[c("a",{onClick:j=>P(b)},d(e.$t("common.edit")),9,x),a(V,{title:e.$t("common.deleteConfirm"),onConfirm:j=>B(b)},{default:t(()=>[c("a",ee,d(e.$t("common.delete")),1)]),_:2},1032,["title","onConfirm"])]),_:2},1024)):K("",!0)]),_:1},8,["columns","data-source","loading","pagination"])])])}}},se=E(ae,[["__scopeId","data-v-773d5f6e"]]);export{se as default};
