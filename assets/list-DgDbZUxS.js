import{c as e,I as te,_ as ae,r as g,a as G,b as C,d as m,w as a,e as l,f as ne,o as b,F as P,j as oe,h as p,t as $,g as j,P as le,l as N,k as H,m as y}from"./index-BKWLtMxF.js";var re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"};function T(u){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?Object(arguments[o]):{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable}))),s.forEach(function(c){se(u,c,r[c])})}return u}function se(u,o,r){return o in u?Object.defineProperty(u,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[o]=r,u}var x=function(o,r){var s=T({},o,r.attrs);return e(te,T({},s,{icon:re}),null)};x.displayName="GiftOutlined";x.inheritAttrs=!1;const ie={class:"member-list content-container"},ue={class:"table-container"},ce={class:"table-header"},de={class:"left"},me={class:"right"},pe=["onClick"],fe=["onClick"],_e={__name:"list",setup(u){const o=ne(),r=g(!1),s=g(!1),c=g(!1),w=g(10),d=G({memberName:"",account:"",groupId:void 0}),I=g([{id:1,memberName:"张三",account:"test123",groupName:"群组1",isGroupOwner:!0,createTime:"2024-02-28 10:00:00"},{id:2,memberName:"李四",account:"test456",groupName:"群组2",isGroupOwner:!1,createTime:"2024-02-28 11:00:00"}]),h=G({current:1,pageSize:10,total:0}),B=[{id:1,name:"群组1"},{id:2,name:"群组2"},{id:3,name:"群组3"}],R=[{title:"会员名称",dataIndex:"memberName",key:"memberName"},{title:"账号",dataIndex:"account",key:"account"},{title:"所属群组",dataIndex:"groupName",key:"groupName"},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:180},{title:"操作",key:"action",fixed:"right",width:200}],f=()=>{h.total=I.value.length},U=()=>{Object.assign(d,{memberName:"",account:"",groupId:void 0}),f()},L=i=>{h.current=i.current,h.pageSize=i.pageSize,f()},A=()=>{o.push("/member/create")},D=i=>{o.push(`/member/edit/${i.id}`)},E=i=>{o.push(`/member/view/${i.id}`)},F=async i=>{try{y.success("删除成功"),f()}catch{y.error("删除失败")}},M=async()=>{s.value=!0,await q()},Q=async()=>{try{c.value=!0,y.success("保存成功"),s.value=!1}catch{y.error("保存失败")}finally{c.value=!1}},q=async()=>{try{w.value=10}catch{y.error("获取配置失败")}};return f(),(i,t)=>{const V=l("a-input"),_=l("a-form-item"),J=l("a-select-option"),W=l("a-select"),k=l("a-button"),O=l("a-space"),z=l("a-form"),X=l("a-tag"),Y=l("a-popconfirm"),Z=l("a-table"),K=l("a-input-number"),ee=l("a-modal");return b(),C("div",ie,[m("div",ue,[m("div",ce,[m("div",de,[e(z,{layout:"inline",model:d},{default:a(()=>[e(_,{label:"会员名称"},{default:a(()=>[e(V,{value:d.memberName,"onUpdate:value":t[0]||(t[0]=n=>d.memberName=n),placeholder:"请输入会员名称","allow-clear":""},null,8,["value"])]),_:1}),e(_,{label:"账号"},{default:a(()=>[e(V,{value:d.account,"onUpdate:value":t[1]||(t[1]=n=>d.account=n),placeholder:"请输入账号","allow-clear":""},null,8,["value"])]),_:1}),e(_,{label:"所属群组"},{default:a(()=>[e(W,{value:d.groupId,"onUpdate:value":t[2]||(t[2]=n=>d.groupId=n),placeholder:"请选择群组",style:{width:"120px"},"allow-clear":""},{default:a(()=>[(b(),C(P,null,oe(B,n=>e(J,{key:n.id,value:n.id},{default:a(()=>[p($(n.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),e(_,null,{default:a(()=>[e(O,null,{default:a(()=>[e(k,{type:"primary",onClick:f},{default:a(()=>t[5]||(t[5]=[p("查询")])),_:1}),e(k,{onClick:U},{default:a(()=>t[6]||(t[6]=[p("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),m("div",me,[e(O,null,{default:a(()=>[e(k,{onClick:M},{icon:a(()=>[e(j(x))]),default:a(()=>[t[7]||(t[7]=p(" 邀请有礼 "))]),_:1}),e(k,{type:"primary",onClick:A},{icon:a(()=>[e(j(le))]),default:a(()=>[t[8]||(t[8]=p(" 新增会员 "))]),_:1})]),_:1})])]),e(Z,{columns:R,"data-source":I.value,loading:r.value,pagination:h,onChange:L},{bodyCell:a(({column:n,record:v})=>[n.key==="groupName"?(b(),C(P,{key:0},[m("span",null,$(v.groupName),1),v.isGroupOwner?(b(),H(X,{key:0,color:"blue",style:{"margin-left":"10px"}},{default:a(()=>t[9]||(t[9]=[p("群主")])),_:1})):N("",!0)],64)):N("",!0),n.key==="action"?(b(),H(O,{key:1},{default:a(()=>[m("a",{onClick:S=>D(v)},"编辑",8,pe),m("a",{onClick:S=>E(v)},"查看",8,fe),e(Y,{title:"确定要删除吗？",onConfirm:S=>F(v)},{default:a(()=>t[10]||(t[10]=[m("a",{class:"danger"},"删除",-1)])),_:2},1032,["onConfirm"])]),_:2},1024)):N("",!0)]),_:1},8,["data-source","loading","pagination"])]),e(ee,{open:s.value,"onUpdate:open":t[4]||(t[4]=n=>s.value=n),title:"邀请有礼配置",onOk:Q,confirmLoading:c.value},{default:a(()=>[e(z,{"label-col":{span:6},"wrapper-col":{span:16}},{default:a(()=>[e(_,{label:"奖励金额",extra:"设置每成功邀请一位新会员的奖励金额"},{default:a(()=>[e(K,{value:w.value,"onUpdate:value":t[3]||(t[3]=n=>w.value=n),min:0,precision:2,step:1,formatter:n=>`¥ ${n}`,parser:n=>n.replace("¥ ",""),style:{width:"100%"}},null,8,["value","formatter","parser"])]),_:1})]),_:1})]),_:1},8,["open","confirmLoading"])])}}},ge=ae(_e,[["__scopeId","data-v-a103f519"]]);export{ge as default};
