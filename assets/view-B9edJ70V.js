import{_ as V,l as L,a as P,r as S,n as j,y as A,b as _,c as e,d as r,w as t,e as d,F,q as I,p as U,j as f,o as u,h as o,t as i,g as C,U as D,s as v,v as b}from"./index-J3KPqwcd.js";import{P as G}from"./index-DCIZKf2Q.js";const M={class:"member-view content-container"},R={class:"detail-container"},$={class:"section"},q={class:"section"},H={class:"account-list"},J={class:"link-text-container"},K=["href"],Q={class:"section",style:{"padding-bottom":"24px"}},W={class:"section"},X={__name:"view",setup(Y){const k=L(),g=A(),s=P({}),y=S([]),x=c=>{navigator.clipboard.writeText(c).then(()=>{f.success("复制成功")}).catch(()=>{f.error("复制失败")})},z=async c=>{try{const a=await U("member.detail",{},{urlParams:{id:g.params.id}});a.code===0&&Object.assign(s,a.data||{})}catch{f.error("获取会员详情失败")}},B=async c=>{try{const a=await U("account.list",{memberId:c});a.code===0&&(y.value=a.data.list||[])}catch{f.error("获取账号列表失败")}};return j(()=>{z(g.params.id),B(g.params.id)}),(c,a)=>{const l=d("a-descriptions-item"),h=d("a-avatar"),E=d("a-tag"),w=d("a-button"),N=d("a-descriptions"),O=d("a-space"),m=d("a-statistic"),p=d("a-col"),T=d("a-row");return u(),_("div",M,[e(G,{title:"会员详情",back:!0}),r("div",R,[r("div",$,[a[3]||(a[3]=r("div",{class:"section-title"},"会员信息",-1)),e(N,{column:2},{default:t(()=>[e(l,{label:"会员昵称"},{default:t(()=>[o(i(s.memberNickname),1)]),_:1}),e(l,{label:"会员账号"},{default:t(()=>[o(i(s.memberAccount),1)]),_:1}),e(l,{label:"会员头像"},{default:t(()=>[e(h,{src:s.avatar,size:"small"},{icon:t(()=>[e(C(D))]),_:1},8,["src"])]),_:1}),e(l,{label:"性别"},{default:t(()=>[o(i(C(k).getEnumText("GenderType",s.gender)),1)]),_:1}),e(l,{label:"职业"},{default:t(()=>[o(i(C(k).getEnumText("OccupationType",s.occupation)),1)]),_:1}),e(l,{label:"电子邮箱"},{default:t(()=>[o(i(s.email),1)]),_:1}),e(l,{label:"手机号码"},{default:t(()=>[o(i(s.phone),1)]),_:1}),e(l,{label:"Telegram"},{default:t(()=>[o(i(s.telegram),1)]),_:1}),e(l,{label:"所属群组"},{default:t(()=>[(u(!0),_(F,null,I(s.groups,n=>(u(),_("div",{key:n.id},[o(i(n.groupName)+" ",1),n.isGroupOwner?(u(),v(E,{key:0,color:"blue",style:{"margin-left":"8px"}},{default:t(()=>a[1]||(a[1]=[o("群主")])),_:1})):b("",!0)]))),128))]),_:1}),e(l,{label:"邀请人"},{default:t(()=>[o(i(s.inviterName),1)]),_:1}),e(l,{label:"邀请码"},{default:t(()=>[o(i(s.inviteCode),1)]),_:1}),e(l,{label:"邀请链接"},{default:t(()=>[r("span",null,i(s.inviteCode),1),e(w,{type:"link",size:"small",onClick:a[0]||(a[0]=n=>x(s.inviteCode))},{default:t(()=>a[2]||(a[2]=[o(" 复制 ")])),_:1})]),_:1})]),_:1})]),r("div",q,[a[5]||(a[5]=r("div",{class:"section-title"},"账号信息",-1)),r("div",H,[(u(!0),_(F,null,I(y.value,n=>(u(),_("div",{key:n.channelId},[e(N,{column:1},{default:t(()=>[e(l,{label:"账号"},{default:t(()=>[e(O,null,{default:t(()=>[e(h,{src:n.channelIcon,size:"small"},null,8,["src"]),r("span",null,i(n.account),1)]),_:2},1024)]),_:2},1024),e(l,{label:"主页"},{default:t(()=>[r("div",J,[r("a",{href:n.homeUrl,target:"_blank",class:"link-text"},i(n.homeUrl),9,K),e(w,{type:"link",size:"small",onClick:Z=>x(n.homeUrl)},{default:t(()=>a[4]||(a[4]=[o(" 复制 ")])),_:2},1032,["onClick"])])]),_:2},1024),n.channelCustomFields.includes("fansCount")?(u(),v(l,{key:0,label:"粉丝数"},{default:t(()=>[o(i(n.fansCount),1)]),_:2},1024)):b("",!0),n.channelCustomFields.includes("friendsCount")?(u(),v(l,{key:1,label:"好友数"},{default:t(()=>[o(i(n.friendsCount),1)]),_:2},1024)):b("",!0),n.channelCustomFields.includes("postsCount")?(u(),v(l,{key:2,label:"发帖数"},{default:t(()=>[o(i(n.postsCount),1)]),_:2},1024)):b("",!0)]),_:2},1024)]))),128))])]),r("div",Q,[a[6]||(a[6]=r("div",{class:"section-title"},"任务信息",-1)),e(T,{gutter:16},{default:t(()=>[e(p,{span:6},{default:t(()=>[e(m,{title:"完成任务次数",value:s.taskCount},null,8,["value"])]),_:1}),e(p,{span:6},{default:t(()=>[e(m,{title:"累计获得奖励",value:s.totalReward,precision:2,prefix:"¥"},null,8,["value"])]),_:1}),e(p,{span:6},{default:t(()=>[e(m,{title:"账户余额",value:s.balance,precision:2,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})]),r("div",W,[a[7]||(a[7]=r("div",{class:"section-title"},"邀请信息",-1)),e(T,null,{default:t(()=>[e(p,{span:6},{default:t(()=>[e(m,{title:"邀请好友数",value:s.invitedCount},null,8,["value"])]),_:1})]),_:1})])])])}}},ae=V(X,[["__scopeId","data-v-a656fb1a"]]);export{ae as default};
