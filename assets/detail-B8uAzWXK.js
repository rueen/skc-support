import{_ as R,r as u,i as N,n as S,p as V,a as $,q as E,b as w,c as a,d as F,w as n,e as l,m as d,f as M,o as i,F as P,j as D,g as H,k as z,h as m,t as A}from"./index-B8LRHCPB.js";import{P as J}from"./index-X1hmP7Fr.js";import{O as K,j as Q}from"./enums-C8EG5C38.js";const W={class:"member-form content-container"},X={class:"form-container"},Y={__name:"detail",setup(Z){const O=V(),f=M(),_=u(),{t:ee,locale:h}=N(),v=S(()=>!!O.params.id),t=$({name:"",phone:"",occupation:void 0,groupId:void 0,isGroupOwner:!1,remark:""}),I={name:[{required:!0,message:"请输入会员名称"}],phone:[{required:!0,message:"请输入手机号"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}],groupId:[{required:!0,message:"请选择所属群"}]},p=u(!1),g=u([]),x=async()=>{p.value=!0;try{g.value=[{label:"测试群组1",value:"1"},{label:"测试群组2",value:"2"}]}finally{p.value=!1}},G=async()=>{if(v.value)try{Object.assign(t,{name:"张三",phone:"13800138000",groupId:"1",isGroupOwner:!0,remark:"测试备注"})}catch{d.error("加载会员信息失败"),f.back()}},c=u(!1),U=()=>{_.value.validate().then(async()=>{try{c.value=!0,d.success("提交成功"),f.back()}catch{d.error("提交失败")}finally{c.value=!1}})},T=s=>{var e;return((e=Q[s])==null?void 0:e[h.value])||s};return E(()=>{x(),G()}),(s,e)=>{const b=l("a-input"),r=l("a-form-item"),j=l("a-select-option"),k=l("a-select"),q=l("a-switch"),B=l("a-textarea"),y=l("a-button"),C=l("a-space"),L=l("a-form");return i(),w("div",W,[a(J,{title:v.value?"编辑会员":"新增会员",back:!0,class:"page-header"},null,8,["title"]),F("div",X,[a(L,{ref_key:"formRef",ref:_,model:t,rules:I,"label-col":{span:4},"wrapper-col":{span:16}},{default:n(()=>[a(r,{label:"会员名称",name:"name"},{default:n(()=>[a(b,{value:t.name,"onUpdate:value":e[0]||(e[0]=o=>t.name=o),placeholder:"请输入会员名称"},null,8,["value"])]),_:1}),a(r,{label:"手机号",name:"phone"},{default:n(()=>[a(b,{value:t.phone,"onUpdate:value":e[1]||(e[1]=o=>t.phone=o),placeholder:"请输入手机号"},null,8,["value"])]),_:1}),a(r,{label:"职业",name:"occupation"},{default:n(()=>[a(k,{value:t.occupation,"onUpdate:value":e[2]||(e[2]=o=>t.occupation=o),placeholder:"请选择职业",style:{width:"200px"}},{default:n(()=>[(i(!0),w(P,null,D(Object.values(H(K)),o=>(i(),z(j,{key:o,value:o},{default:n(()=>[m(A(T(o)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),a(r,{label:"所属群",name:"groupId"},{default:n(()=>[a(k,{value:t.groupId,"onUpdate:value":e[3]||(e[3]=o=>t.groupId=o),placeholder:"请选择所属群",loading:p.value,options:g.value},null,8,["value","loading","options"])]),_:1}),a(r,{label:"群主标识",name:"isGroupOwner"},{default:n(()=>[a(q,{checked:t.isGroupOwner,"onUpdate:checked":e[4]||(e[4]=o=>t.isGroupOwner=o)},null,8,["checked"])]),_:1}),a(r,{label:"备注",name:"remark"},{default:n(()=>[a(B,{value:t.remark,"onUpdate:value":e[5]||(e[5]=o=>t.remark=o),rows:4,placeholder:"请输入备注信息"},null,8,["value"])]),_:1}),a(r,{"wrapper-col":{offset:4}},{default:n(()=>[a(C,null,{default:n(()=>[a(y,{type:"primary",loading:c.value,onClick:U},{default:n(()=>e[7]||(e[7]=[m(" 提交 ")])),_:1},8,["loading"]),a(y,{onClick:e[6]||(e[6]=o=>s.$router.back())},{default:n(()=>e[8]||(e[8]=[m("取消")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])])}}},ne=R(Y,[["__scopeId","data-v-66792172"]]);export{ne as default};
