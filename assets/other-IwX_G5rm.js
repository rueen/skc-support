import{_ as L,l as M,m as x,r as N,a as w,n as R,b as m,d as v,c as a,w as t,e as s,p as A,j as G,o,F as _,q as C,s as B,h as i,t as d,v as I,g as E}from"./index-C3w0WgI5.js";const H={class:"other-bill content-container"},J={class:"table-container"},K={class:"table-header"},P={class:"left"},Q={__name:"other",setup(W){const u=M(),O=x(()=>u.loaded?u.getEnumOptions("BillType"):[]),V=x(()=>u.loaded?u.getEnumOptions("SettlementStatus"):[]),f=N(!1),l=w({memberNickname:"",billType:void 0,settlementStatus:void 0}),j=[{title:"会员昵称",dataIndex:"memberNickname",key:"memberNickname"},{title:"账单类型",dataIndex:"billType",key:"billType"},{title:"关联任务",dataIndex:"taskName",key:"taskName"},{title:"金额",dataIndex:"amount",key:"amount",align:"right"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"结算状态",dataIndex:"settlementStatus",key:"settlementStatus"}],b=N([]),r=w({current:1,pageSize:10,total:0}),g=()=>{r.current=1,y()},z=()=>{Object.assign(l,{memberNickname:"",billType:void 0,settlementStatus:void 0}),g()},D=n=>{Object.assign(r,n),y()},y=async()=>{f.value=!0;try{const n=await A("settlement.otherBills",{page:r.current,pageSize:r.pageSize,...l});n.code===0?(b.value=n.data.list,r.total=n.data.total):G.error(n.message)}finally{f.value=!1}};return R(()=>{y()}),(n,c)=>{const F=s("a-input"),p=s("a-form-item"),k=s("a-select-option"),h=s("a-select"),S=s("a-button"),U=s("a-space"),$=s("a-form"),q=s("a-table");return o(),m("div",H,[v("div",J,[v("div",K,[v("div",P,[a($,{layout:"inline",model:l},{default:t(()=>[a(p,{label:"会员昵称"},{default:t(()=>[a(F,{value:l.memberNickname,"onUpdate:value":c[0]||(c[0]=e=>l.memberNickname=e),placeholder:"请输入会员昵称","allow-clear":""},null,8,["value"])]),_:1}),a(p,{label:"账单类型"},{default:t(()=>[a(h,{value:l.billType,"onUpdate:value":c[1]||(c[1]=e=>l.billType=e),placeholder:"请选择账单类型",style:{width:"120px"},"allow-clear":""},{default:t(()=>[(o(!0),m(_,null,C(O.value,e=>(o(),B(k,{key:e.value,value:e.value},{default:t(()=>[i(d(e.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),a(p,{label:"结算状态"},{default:t(()=>[a(h,{value:l.settlementStatus,"onUpdate:value":c[2]||(c[2]=e=>l.settlementStatus=e),placeholder:"请选择结算状态",style:{width:"120px"},"allow-clear":""},{default:t(()=>[(o(!0),m(_,null,C(V.value,e=>(o(),B(k,{key:e.value,value:e.value},{default:t(()=>[i(d(e.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),a(p,null,{default:t(()=>[a(U,null,{default:t(()=>[a(S,{type:"primary",onClick:g},{default:t(()=>[i(d(n.$t("common.search")),1)]),_:1}),a(S,{onClick:z},{default:t(()=>[i(d(n.$t("common.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),a(q,{columns:j,"data-source":b.value,loading:f.value,pagination:r,onChange:D},{bodyCell:t(({column:e,record:T})=>[e.key==="billType"?(o(),m(_,{key:0},[i(d(E(u).getEnumText("BillType",T.billType)),1)],64)):I("",!0),e.key==="settlementStatus"?(o(),m(_,{key:1},[i(d(E(u).getEnumText("SettlementStatus",T.settlementStatus)),1)],64)):I("",!0)]),_:1},8,["data-source","loading","pagination"])])])}}},Y=L(Q,[["__scopeId","data-v-46cc1f38"]]);export{Y as default};
