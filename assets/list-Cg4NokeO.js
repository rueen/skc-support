import{c as a,I as le,_ as re,k as ue,r as b,d as L,e as k,f as c,w as n,g as r,h as ie,o as m,F as I,l as A,i as V,m as z,j as p,t as T,P as se,n as S,b as y}from"./index-C3V7hDZ0.js";import{O as ce,j as de}from"./enums-C8EG5C38.js";var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"};function D(s){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?Object(arguments[l]):{},d=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(u).filter(function(f){return Object.getOwnPropertyDescriptor(u,f).enumerable}))),d.forEach(function(f){pe(s,f,u[f])})}return s}function pe(s,l,u){return l in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s}var j=function(l,u){var d=D({},l,u.attrs);return a(le,D({},d,{icon:me}),null)};j.displayName="GiftOutlined";j.inheritAttrs=!1;const fe={class:"member-list content-container"},_e={class:"table-container"},ve={class:"table-header"},ge={class:"left"},be={class:"right"},ye=["onClick"],he=["onClick"],we={__name:"list",setup(s){const l=ie(),{t:u,locale:d}=ue(),f=b(!1),h=b(!1),C=b(!1),N=b(10),i=L({memberName:"",account:"",occupation:void 0,groupId:void 0}),G=b([{id:1,memberName:"张三",account:"test123",groupName:"群组1",isGroupOwner:!0,createTime:"2024-02-28 10:00:00"},{id:2,memberName:"李四",account:"test456",groupName:"群组2",isGroupOwner:!1,createTime:"2024-02-28 11:00:00"}]),w=L({current:1,pageSize:10,total:0}),E=[{id:1,name:"群组1"},{id:2,name:"群组2"},{id:3,name:"群组3"}],F=[{title:"会员名称",dataIndex:"memberName",key:"memberName"},{title:"账号",dataIndex:"account",key:"account"},{title:"所属群组",dataIndex:"groupName",key:"groupName"},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:180},{title:"职业",dataIndex:"occupation",key:"occupation",width:120,customRender:({text:o})=>P(o)},{title:"操作",key:"action",fixed:"right",width:200}],v=()=>{w.total=G.value.length},M=()=>{Object.assign(i,{memberName:"",account:"",occupation:void 0,groupId:void 0}),v()},Q=o=>{w.current=o.current,w.pageSize=o.pageSize,v()},q=()=>{l.push("/member/create")},J=o=>{l.push(`/member/edit/${o.id}`)},W=o=>{l.push(`/member/view/${o.id}`)},X=async o=>{try{y.success("删除成功"),v()}catch{y.error("删除失败")}},Y=async()=>{h.value=!0,await K()},Z=async()=>{try{C.value=!0,y.success("保存成功"),h.value=!1}catch{y.error("保存失败")}finally{C.value=!1}},K=async()=>{try{N.value=10}catch{y.error("获取配置失败")}},P=o=>{var e;return((e=de[o])==null?void 0:e[d.value])||o};return v(),(o,e)=>{const $=r("a-input"),_=r("a-form-item"),H=r("a-select-option"),R=r("a-select"),O=r("a-button"),x=r("a-space"),U=r("a-form"),ee=r("a-tag"),te=r("a-popconfirm"),ae=r("a-table"),ne=r("a-input-number"),oe=r("a-modal");return m(),k("div",fe,[c("div",_e,[c("div",ve,[c("div",ge,[a(U,{layout:"inline",model:i},{default:n(()=>[a(_,{label:"会员名称"},{default:n(()=>[a($,{value:i.memberName,"onUpdate:value":e[0]||(e[0]=t=>i.memberName=t),placeholder:"请输入会员名称","allow-clear":""},null,8,["value"])]),_:1}),a(_,{label:"账号"},{default:n(()=>[a($,{value:i.account,"onUpdate:value":e[1]||(e[1]=t=>i.account=t),placeholder:"请输入账号","allow-clear":""},null,8,["value"])]),_:1}),a(_,{label:"职业"},{default:n(()=>[a(R,{value:i.occupation,"onUpdate:value":e[2]||(e[2]=t=>i.occupation=t),placeholder:"请选择职业",style:{width:"120px"},"allow-clear":""},{default:n(()=>[(m(!0),k(I,null,A(Object.values(V(ce)),t=>(m(),z(H,{key:t,value:t},{default:n(()=>[p(T(P(t)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),a(_,{label:"所属群组"},{default:n(()=>[a(R,{value:i.groupId,"onUpdate:value":e[3]||(e[3]=t=>i.groupId=t),placeholder:"请选择群组",style:{width:"120px"},"allow-clear":""},{default:n(()=>[(m(),k(I,null,A(E,t=>a(H,{key:t.id,value:t.id},{default:n(()=>[p(T(t.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),a(_,null,{default:n(()=>[a(x,null,{default:n(()=>[a(O,{type:"primary",onClick:v},{default:n(()=>e[6]||(e[6]=[p("查询")])),_:1}),a(O,{onClick:M},{default:n(()=>e[7]||(e[7]=[p("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),c("div",be,[a(x,null,{default:n(()=>[a(O,{onClick:Y},{icon:n(()=>[a(V(j))]),default:n(()=>[e[8]||(e[8]=p(" 邀请有礼 "))]),_:1}),a(O,{type:"primary",onClick:q},{icon:n(()=>[a(V(se))]),default:n(()=>[e[9]||(e[9]=p(" 新增会员 "))]),_:1})]),_:1})])]),a(ae,{columns:F,"data-source":G.value,loading:f.value,pagination:w,onChange:Q},{bodyCell:n(({column:t,record:g})=>[t.key==="groupName"?(m(),k(I,{key:0},[c("span",null,T(g.groupName),1),g.isGroupOwner?(m(),z(ee,{key:0,color:"blue",style:{"margin-left":"10px"}},{default:n(()=>e[10]||(e[10]=[p("群主")])),_:1})):S("",!0)],64)):S("",!0),t.key==="action"?(m(),z(x,{key:1},{default:n(()=>[c("a",{onClick:B=>J(g)},"编辑",8,ye),c("a",{onClick:B=>W(g)},"查看",8,he),a(te,{title:"确定要删除吗？",onConfirm:B=>X(g)},{default:n(()=>e[11]||(e[11]=[c("a",{class:"danger"},"删除",-1)])),_:2},1032,["onConfirm"])]),_:2},1024)):S("",!0)]),_:1},8,["data-source","loading","pagination"])]),a(oe,{open:h.value,"onUpdate:open":e[5]||(e[5]=t=>h.value=t),title:"邀请有礼配置",onOk:Z,confirmLoading:C.value},{default:n(()=>[a(U,{"label-col":{span:6},"wrapper-col":{span:16}},{default:n(()=>[a(_,{label:"奖励金额",extra:"设置每成功邀请一位新会员的奖励金额"},{default:n(()=>[a(ne,{value:N.value,"onUpdate:value":e[4]||(e[4]=t=>N.value=t),min:0,precision:2,step:1,formatter:t=>`¥ ${t}`,parser:t=>t.replace("¥ ",""),style:{width:"100%"}},null,8,["value","formatter","parser"])]),_:1})]),_:1})]),_:1},8,["open","confirmLoading"])])}}},Ce=re(we,[["__scopeId","data-v-b6e32549"]]);export{Ce as default};
