import{_ as R,i as D,a as b,r as M,j as q,A as H,k as J,v as K,b as f,c as e,d as n,w as t,e as d,F as P,n as j,l as v,o as c,h as i,t as o,g,U as Q,p as k,q as C,m as F}from"./index-epfo8CfU.js";import{P as W}from"./index-vh8TyA-r.js";const X={class:"member-view content-container"},Y={class:"detail-container"},Z={class:"section"},ee={class:"section"},te={class:"account-list"},ae={class:"link-text-container"},se=["href"],le={class:"section",style:{"padding-bottom":"24px"}},ne={class:"section",style:{"padding-bottom":"24px"}},oe={class:"section"},ie={__name:"view",setup(re){const y=D(),m=K(),r=b({}),h=M([]),I=q(()=>`${H.h5Url}?inviteCode=${r.inviteCode}`),w=b({}),x=b({}),S=b({}),N=u=>{navigator.clipboard.writeText(u).then(()=>{F.success("复制成功")}).catch(()=>{F.error("复制失败")})},z=async u=>{const a=await v("member.detail",{},{urlParams:{id:m.params.id}});a.code===0&&Object.assign(r,a.data||{})},B=async u=>{const a=await v("account.list",{memberId:u});a.code===0&&(h.value=a.data.list||[])},V=async u=>{const a=await v("member.taskStats",{},{urlParams:{memberId:u}});a.code===0&&Object.assign(w,a.data||{})},$=async u=>{const a=await v("member.inviteStats",{},{urlParams:{memberId:u}});a.code===0&&Object.assign(x,a.data||{})},G=async u=>{const a=await v("member.groupsStats",{},{urlParams:{memberId:u}});a.code===0&&Object.assign(S,a.data||{})};return J(()=>{z(m.params.id),B(m.params.id),V(m.params.id),$(m.params.id),G(m.params.id)}),(u,a)=>{const l=d("a-descriptions-item"),O=d("a-avatar"),U=d("a-tag"),A=d("a-button"),E=d("a-descriptions"),L=d("a-space"),_=d("a-statistic"),p=d("a-col"),T=d("a-row");return c(),f("div",X,[e(W,{title:"会员详情",back:!0}),n("div",Y,[n("div",Z,[a[3]||(a[3]=n("div",{class:"section-title"},"会员信息",-1)),e(E,{column:2},{default:t(()=>[e(l,{label:"会员昵称"},{default:t(()=>[i(o(r.memberNickname),1)]),_:1}),e(l,{label:"会员账号"},{default:t(()=>[i(o(r.memberAccount),1)]),_:1}),e(l,{label:"会员头像"},{default:t(()=>[e(O,{src:r.avatar,size:"small"},{icon:t(()=>[e(g(Q))]),_:1},8,["src"])]),_:1}),e(l,{label:"性别"},{default:t(()=>[i(o(g(y).getEnumText("GenderType",r.gender)),1)]),_:1}),e(l,{label:"职业"},{default:t(()=>[i(o(g(y).getEnumText("OccupationType",r.occupation)),1)]),_:1}),e(l,{label:"电子邮箱"},{default:t(()=>[i(o(r.email),1)]),_:1}),e(l,{label:"手机号码"},{default:t(()=>[i(o(r.phone),1)]),_:1}),e(l,{label:"Telegram"},{default:t(()=>[i(o(r.telegram),1)]),_:1}),e(l,{label:"所属群组"},{default:t(()=>[(c(!0),f(P,null,j(r.groups,s=>(c(),f("div",{key:s.id},[i(o(s.groupName)+" ",1),s.isGroupOwner?(c(),k(U,{key:0,color:"blue",style:{"margin-left":"8px"}},{default:t(()=>a[1]||(a[1]=[i("群主")])),_:1})):C("",!0)]))),128))]),_:1}),e(l,{label:"邀请人"},{default:t(()=>[i(o(r.inviterNickname),1)]),_:1}),e(l,{label:"邀请链接"},{default:t(()=>[n("span",null,o(I.value),1),e(A,{type:"link",size:"small",onClick:a[0]||(a[0]=s=>N(I.value))},{default:t(()=>a[2]||(a[2]=[i(" 复制 ")])),_:1})]),_:1}),e(l,{label:"账户余额"},{default:t(()=>[n("span",null,o(r.balance),1)]),_:1})]),_:1})]),n("div",ee,[a[5]||(a[5]=n("div",{class:"section-title"},"账号信息",-1)),n("div",te,[(c(!0),f(P,null,j(h.value,s=>(c(),f("div",{key:s.channelId},[e(E,{column:1},{default:t(()=>[e(l,{label:"账号"},{default:t(()=>[e(L,null,{default:t(()=>[e(O,{src:s.channelIcon,size:"small"},null,8,["src"]),n("span",null,o(s.account),1),e(U,{color:"warning"},{default:t(()=>[i(o(g(y).getEnumText("AccountAuditStatus",s.accountAuditStatus)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{label:"主页"},{default:t(()=>[n("div",ae,[n("a",{href:s.homeUrl,target:"_blank",class:"link-text"},o(s.homeUrl),9,se),e(A,{type:"link",size:"small",onClick:ue=>N(s.homeUrl)},{default:t(()=>a[4]||(a[4]=[i(" 复制 ")])),_:2},1032,["onClick"])])]),_:2},1024),s.channelCustomFields.includes("fansCount")?(c(),k(l,{key:0,label:"粉丝数"},{default:t(()=>[i(o(s.fansCount),1)]),_:2},1024)):C("",!0),s.channelCustomFields.includes("friendsCount")?(c(),k(l,{key:1,label:"好友数"},{default:t(()=>[i(o(s.friendsCount),1)]),_:2},1024)):C("",!0),s.channelCustomFields.includes("postsCount")?(c(),k(l,{key:2,label:"发帖数"},{default:t(()=>[i(o(s.postsCount),1)]),_:2},1024)):C("",!0)]),_:2},1024)]))),128))])]),n("div",le,[a[6]||(a[6]=n("div",{class:"section-title"},"任务信息",-1)),e(T,{gutter:16},{default:t(()=>[e(p,{span:6},{default:t(()=>[e(_,{title:"完成任务次数",value:w.completedTaskCount},null,8,["value"])]),_:1}),e(p,{span:6},{default:t(()=>[e(_,{title:"任务奖励",value:w.totalTaskReward,precision:2,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})]),n("div",ne,[a[7]||(a[7]=n("div",{class:"section-title"},"邀请信息",-1)),e(T,null,{default:t(()=>[e(p,{span:6},{default:t(()=>[e(_,{title:"累计邀请",value:x.inviteCount},null,8,["value"])]),_:1}),e(p,{span:6},{default:t(()=>[e(_,{title:"邀请奖励",value:x.totalReward,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})]),n("div",oe,[a[8]||(a[8]=n("div",{class:"section-title"},"群组信息",-1)),e(T,null,{default:t(()=>[e(p,{span:6},{default:t(()=>[e(_,{title:"管理群数量",value:S.groupCount},null,8,["value"])]),_:1}),e(p,{span:6},{default:t(()=>[e(_,{title:"群收益",value:S.totalEarnings,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})])])])}}},me=R(ie,[["__scopeId","data-v-6c3b8c18"]]);export{me as default};
