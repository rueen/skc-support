import{_ as q,r as p,a as _,l as M,b as d,d as f,c as n,w as a,e as o,N as R,O as A,n as G,j as H,o as u,F as v,p as B,q as I,h as i,t as r,s as O}from"./index-2-XIWpSa.js";const K={class:"other-bill content-container"},P={class:"table-container"},Q={class:"table-header"},W={class:"left"},X={__name:"other",setup(Y){const b=p(!1),s=_({memberNickname:"",billType:void 0,settlementStatus:void 0}),E=[{title:"会员昵称",dataIndex:"memberNickname",key:"memberNickname"},{title:"账单类型",dataIndex:"billType",key:"billType"},{title:"关联任务",dataIndex:"taskName",key:"taskName"},{title:"金额",dataIndex:"amount",key:"amount",align:"right"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"结算状态",dataIndex:"settlementStatus",key:"settlementStatus"}],k=p([]),c=_({current:1,pageSize:10,total:0}),g=()=>{c.current=1,y()},V=()=>{Object.assign(s,{memberNickname:"",billType:void 0,settlementStatus:void 0}),g()},z=t=>{Object.assign(c,t),y()},y=async()=>{b.value=!0;try{const t=await G("settlement.otherBills",{page:c.current,pageSize:c.pageSize,...s});t.code===0?(k.value=t.data.list,c.total=t.data.total):H.error(t.message)}finally{b.value=!1}},h=p([]),S=_({}),D=async()=>{const t=await R();h.value=Object.values(t),Object.values(t).map(l=>{S[l.value]=l.text})},T=p([]),x=_({}),F=async()=>{const t=await A();T.value=Object.values(t),Object.values(t).map(l=>{x[l.value]=l.text})};return M(()=>{D(),F(),y()}),(t,l)=>{const L=o("a-input"),m=o("a-form-item"),N=o("a-select-option"),w=o("a-select"),C=o("a-button"),U=o("a-space"),J=o("a-form"),$=o("a-table");return u(),d("div",K,[f("div",P,[f("div",Q,[f("div",W,[n(J,{layout:"inline",model:s},{default:a(()=>[n(m,{label:"会员昵称"},{default:a(()=>[n(L,{value:s.memberNickname,"onUpdate:value":l[0]||(l[0]=e=>s.memberNickname=e),placeholder:"请输入会员昵称","allow-clear":""},null,8,["value"])]),_:1}),n(m,{label:"账单类型"},{default:a(()=>[n(w,{value:s.billType,"onUpdate:value":l[1]||(l[1]=e=>s.billType=e),placeholder:"请选择账单类型",style:{width:"120px"},"allow-clear":""},{default:a(()=>[(u(!0),d(v,null,B(h.value,e=>(u(),I(N,{key:e.value,value:e.value},{default:a(()=>[i(r(e.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),n(m,{label:"结算状态"},{default:a(()=>[n(w,{value:s.settlementStatus,"onUpdate:value":l[2]||(l[2]=e=>s.settlementStatus=e),placeholder:"请选择结算状态",style:{width:"120px"},"allow-clear":""},{default:a(()=>[(u(!0),d(v,null,B(T.value,e=>(u(),I(N,{key:e.value,value:e.value},{default:a(()=>[i(r(e.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),n(m,null,{default:a(()=>[n(U,null,{default:a(()=>[n(C,{type:"primary",onClick:g},{default:a(()=>[i(r(t.$t("common.search")),1)]),_:1}),n(C,{onClick:V},{default:a(()=>[i(r(t.$t("common.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),n($,{columns:E,"data-source":k.value,loading:b.value,pagination:c,onChange:z},{bodyCell:a(({column:e,record:j})=>[e.key==="billType"?(u(),d(v,{key:0},[i(r(S[j.billType]),1)],64)):O("",!0),e.key==="settlementStatus"?(u(),d(v,{key:1},[i(r(x[j.settlementStatus]),1)],64)):O("",!0)]),_:1},8,["data-source","loading","pagination"])])])}}},ee=q(X,[["__scopeId","data-v-ad39038d"]]);export{ee as default};
