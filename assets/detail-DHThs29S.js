import{_ as J,i as X,r as x,a as R,j as z,q as K,b as C,c as t,d as r,w as e,e as c,f as W,o as d,h as a,t as l,m,n as y,F as A,l as Y,g as I,k as p}from"./index-CrTl1_Bc.js";import{P as Z}from"./index-DdsyUa1P.js";import{c as $,e as T,g as L,d as ee,h as te,f as ae}from"./enums-u5GZanCL.js";const se={class:"task-audit-detail content-container"},le={class:"detail-container"},oe={class:"detail-section"},ne={class:"detail-section"},ue={class:"detail-section"},re={class:"detail-section"},ie={class:"footer-btns"},de={class:"left"},ce={class:"right"},_e={__name:"detail",setup(me){const D=K(),j=W(),{locale:E}=X(),f=x(!1),N=x(!1),v=x(""),n=R({taskName:"测试任务1",channelName:"抖音",category:"美食",type:$.IMAGE_TEXT,reward:100,brand:"测试品牌",groupNames:["群组1","群组2"],startTime:"2024-03-01 00:00:00",endTime:"2024-03-31 23:59:59",quota:10,unlimitedQuota:!1,fansRequired:1e3,contentRequirement:"作品要求内容",taskInfo:"任务信息内容",customFields:[{title:"字段1",type:"input",value:"测试内容1"},{title:"字段2",type:"image",value:"https://example.com/image.jpg"}]}),k=R({nickname:"测试会员",account:"test123",groupName:"群组1",isGroupOwner:!0}),_=R({applyTime:"2024-03-01 10:00:00",status:T.PENDING,rejectReason:""}),G=i=>L(ee,i,E.value),P=i=>L(ae,i,E.value),S=i=>te[i],V=async()=>{try{p.success("审核通过成功"),j.back()}catch{p.error("审核通过失败")}},h=()=>{v.value="",f.value=!0},B=async()=>{if(!v.value){p.error("请输入拒绝原因");return}try{N.value=!0,p.success("审核拒绝成功"),f.value=!1,j.back()}catch{p.error("审核拒绝失败")}finally{N.value=!1}},F=()=>{},O=()=>{},M=async i=>{};return z(()=>{M(D.params.id)}),(i,s)=>{const o=c("a-descriptions-item"),b=c("a-descriptions"),w=c("a-tag"),Q=c("a-image"),g=c("a-button"),q=c("a-space"),U=c("a-textarea"),H=c("a-modal");return d(),C("div",se,[t(Z,{title:"任务审核详情",back:!0}),r("div",le,[r("div",oe,[s[2]||(s[2]=r("div",{class:"section-title"},"任务信息",-1)),t(b,{column:2},{default:e(()=>[t(o,{label:"任务名称"},{default:e(()=>[a(l(n.taskName),1)]),_:1}),t(o,{label:"平台渠道"},{default:e(()=>[a(l(n.channelName),1)]),_:1}),t(o,{label:"达人领域"},{default:e(()=>[a(l(n.category),1)]),_:1}),t(o,{label:"任务类型"},{default:e(()=>[a(l(G(n.type)),1)]),_:1}),t(o,{label:"任务奖励"},{default:e(()=>[a(l(n.reward)+" 元",1)]),_:1}),t(o,{label:"品牌"},{default:e(()=>[a(l(n.brand),1)]),_:1}),t(o,{label:"指定群组"},{default:e(()=>{var u;return[a(l((u=n.groupNames)==null?void 0:u.join("、")),1)]}),_:1}),t(o,{label:"任务时间"},{default:e(()=>[a(l(n.startTime)+" 至 "+l(n.endTime),1)]),_:1}),t(o,{label:"任务名额"},{default:e(()=>[a(l(n.unlimitedQuota?"不限制":n.quota),1)]),_:1}),t(o,{label:"粉丝要求"},{default:e(()=>[a(l(n.fansRequired)+" 粉丝",1)]),_:1}),t(o,{label:"作品要求"},{default:e(()=>[a(l(n.contentRequirement),1)]),_:1}),t(o,{label:"任务信息"},{default:e(()=>[a(l(n.taskInfo),1)]),_:1})]),_:1})]),r("div",ne,[s[4]||(s[4]=r("div",{class:"section-title"},"会员信息",-1)),t(b,{column:2},{default:e(()=>[t(o,{label:"会员名称"},{default:e(()=>[a(l(k.nickname)+" ",1),k.isGroupOwner?(d(),m(w,{key:0,color:"blue"},{default:e(()=>s[3]||(s[3]=[a("群主")])),_:1})):y("",!0)]),_:1}),t(o,{label:"账号"},{default:e(()=>[a(l(k.account),1)]),_:1}),t(o,{label:"所属群"},{default:e(()=>[a(l(k.groupName),1)]),_:1})]),_:1})]),r("div",ue,[s[5]||(s[5]=r("div",{class:"section-title"},"报名信息",-1)),t(b,{column:2},{default:e(()=>[(d(!0),C(A,null,Y(n.customFields,u=>(d(),m(o,{key:u.title,label:u.title},{default:e(()=>[u.type==="image"?(d(),m(Q,{key:0,src:u.value,width:120},null,8,["src"])):(d(),C(A,{key:1},[a(l(u.value),1)],64))]),_:2},1032,["label"]))),128))]),_:1})]),r("div",re,[s[6]||(s[6]=r("div",{class:"section-title"},"审核信息",-1)),t(b,{column:2},{default:e(()=>[t(o,{label:"报名时间"},{default:e(()=>[a(l(_.applyTime),1)]),_:1}),t(o,{label:"审核状态"},{default:e(()=>[t(w,{color:S(_.status)},{default:e(()=>[a(l(P(_.status)),1)]),_:1},8,["color"])]),_:1}),_.status===I(T).REJECTED?(d(),m(o,{key:0,label:"拒绝原因"},{default:e(()=>[a(l(_.rejectReason),1)]),_:1})):y("",!0)]),_:1})]),r("div",ie,[r("div",de,[t(q,null,{default:e(()=>[_.status===I(T).PENDING?(d(),m(g,{key:0,type:"primary",onClick:V},{default:e(()=>s[7]||(s[7]=[a(" 审核通过 ")])),_:1})):y("",!0),_.status===I(T).PENDING?(d(),m(g,{key:1,danger:"",onClick:h},{default:e(()=>s[8]||(s[8]=[a(" 审核拒绝 ")])),_:1})):y("",!0)]),_:1})]),r("div",ce,[t(q,null,{default:e(()=>[t(g,{onClick:F},{default:e(()=>s[9]||(s[9]=[a("上一个")])),_:1}),t(g,{onClick:O},{default:e(()=>s[10]||(s[10]=[a("下一个")])),_:1})]),_:1})])])]),t(H,{open:f.value,"onUpdate:open":s[1]||(s[1]=u=>f.value=u),title:"拒绝原因",onOk:B,confirmLoading:N.value},{default:e(()=>[t(U,{value:v.value,"onUpdate:value":s[0]||(s[0]=u=>v.value=u),placeholder:"请输入拒绝原因",rows:4},null,8,["value"])]),_:1},8,["open","confirmLoading"])])}}},ke=J(_e,[["__scopeId","data-v-e9fc2d4f"]]);export{ke as default};
