import{_ as O,l as V,a as $,r as L,m as P,i as j,n as D,y as G,b as _,c as e,d as r,w as t,e as u,F as E,q as F,p as I,j as f,o as d,h as o,t as i,g as v,U as M,s as b,v as g}from"./index-DAR7oqmN.js";import{P as R}from"./index-CiJpW--W.js";const q={class:"member-view content-container"},H={class:"detail-container"},J={class:"section"},K={class:"section"},Q={class:"account-list"},W={class:"link-text-container"},X=["href"],Y={class:"section",style:{"padding-bottom":"24px"}},Z={class:"section"},ee={__name:"view",setup(te){const k=V(),C=G(),l=$({}),y=L([]),x=P(()=>`${j.h5Url}?inviteCode=${l.inviteCode}`),h=c=>{navigator.clipboard.writeText(c).then(()=>{f.success("复制成功")}).catch(()=>{f.error("复制失败")})},S=async c=>{try{const a=await I("member.detail",{},{urlParams:{id:C.params.id}});a.code===0&&Object.assign(l,a.data||{})}catch{f.error("获取会员详情失败")}},z=async c=>{try{const a=await I("account.list",{memberId:c});a.code===0&&(y.value=a.data.list||[])}catch{f.error("获取账号列表失败")}};return D(()=>{S(C.params.id),z(C.params.id)}),(c,a)=>{const n=u("a-descriptions-item"),w=u("a-avatar"),T=u("a-tag"),N=u("a-button"),U=u("a-descriptions"),B=u("a-space"),m=u("a-statistic"),p=u("a-col"),A=u("a-row");return d(),_("div",q,[e(R,{title:"会员详情",back:!0}),r("div",H,[r("div",J,[a[3]||(a[3]=r("div",{class:"section-title"},"会员信息",-1)),e(U,{column:2},{default:t(()=>[e(n,{label:"会员昵称"},{default:t(()=>[o(i(l.memberNickname),1)]),_:1}),e(n,{label:"会员账号"},{default:t(()=>[o(i(l.memberAccount),1)]),_:1}),e(n,{label:"会员头像"},{default:t(()=>[e(w,{src:l.avatar,size:"small"},{icon:t(()=>[e(v(M))]),_:1},8,["src"])]),_:1}),e(n,{label:"性别"},{default:t(()=>[o(i(v(k).getEnumText("GenderType",l.gender)),1)]),_:1}),e(n,{label:"职业"},{default:t(()=>[o(i(v(k).getEnumText("OccupationType",l.occupation)),1)]),_:1}),e(n,{label:"电子邮箱"},{default:t(()=>[o(i(l.email),1)]),_:1}),e(n,{label:"手机号码"},{default:t(()=>[o(i(l.phone),1)]),_:1}),e(n,{label:"Telegram"},{default:t(()=>[o(i(l.telegram),1)]),_:1}),e(n,{label:"所属群组"},{default:t(()=>[(d(!0),_(E,null,F(l.groups,s=>(d(),_("div",{key:s.id},[o(i(s.groupName)+" ",1),s.isGroupOwner?(d(),b(T,{key:0,color:"blue",style:{"margin-left":"8px"}},{default:t(()=>a[1]||(a[1]=[o("群主")])),_:1})):g("",!0)]))),128))]),_:1}),e(n,{label:"邀请人"},{default:t(()=>[o(i(l.inviterNickname),1)]),_:1}),e(n,{label:"邀请链接"},{default:t(()=>[r("span",null,i(x.value),1),e(N,{type:"link",size:"small",onClick:a[0]||(a[0]=s=>h(x.value))},{default:t(()=>a[2]||(a[2]=[o(" 复制 ")])),_:1})]),_:1})]),_:1})]),r("div",K,[a[5]||(a[5]=r("div",{class:"section-title"},"账号信息",-1)),r("div",Q,[(d(!0),_(E,null,F(y.value,s=>(d(),_("div",{key:s.channelId},[e(U,{column:1},{default:t(()=>[e(n,{label:"账号"},{default:t(()=>[e(B,null,{default:t(()=>[e(w,{src:s.channelIcon,size:"small"},null,8,["src"]),r("span",null,i(s.account),1),e(T,{color:"warning"},{default:t(()=>[o(i(v(k).getEnumText("AccountAuditStatus",s.accountAuditStatus)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(n,{label:"主页"},{default:t(()=>[r("div",W,[r("a",{href:s.homeUrl,target:"_blank",class:"link-text"},i(s.homeUrl),9,X),e(N,{type:"link",size:"small",onClick:ae=>h(s.homeUrl)},{default:t(()=>a[4]||(a[4]=[o(" 复制 ")])),_:2},1032,["onClick"])])]),_:2},1024),s.channelCustomFields.includes("fansCount")?(d(),b(n,{key:0,label:"粉丝数"},{default:t(()=>[o(i(s.fansCount),1)]),_:2},1024)):g("",!0),s.channelCustomFields.includes("friendsCount")?(d(),b(n,{key:1,label:"好友数"},{default:t(()=>[o(i(s.friendsCount),1)]),_:2},1024)):g("",!0),s.channelCustomFields.includes("postsCount")?(d(),b(n,{key:2,label:"发帖数"},{default:t(()=>[o(i(s.postsCount),1)]),_:2},1024)):g("",!0)]),_:2},1024)]))),128))])]),r("div",Y,[a[6]||(a[6]=r("div",{class:"section-title"},"任务信息",-1)),e(A,{gutter:16},{default:t(()=>[e(p,{span:6},{default:t(()=>[e(m,{title:"完成任务次数",value:l.taskCount},null,8,["value"])]),_:1}),e(p,{span:6},{default:t(()=>[e(m,{title:"累计获得奖励",value:l.totalReward,precision:2,prefix:"¥"},null,8,["value"])]),_:1}),e(p,{span:6},{default:t(()=>[e(m,{title:"账户余额",value:l.balance,precision:2,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})]),r("div",Z,[a[7]||(a[7]=r("div",{class:"section-title"},"邀请信息",-1)),e(A,null,{default:t(()=>[e(p,{span:6},{default:t(()=>[e(m,{title:"邀请好友数",value:l.invitedCount},null,8,["value"])]),_:1})]),_:1})])])])}}},ne=O(ee,[["__scopeId","data-v-09dab241"]]);export{ne as default};
