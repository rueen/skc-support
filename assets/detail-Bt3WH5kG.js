import{_ as X,i as z,r as x,a as I,q as K,p as W,b as R,c as t,d as u,w as e,e as c,f as Y,o as d,h as a,t as o,k as m,l as y,F as A,j as Z,g as j,m as p}from"./index-JEjONlXt.js";import{P as $}from"./index-D60OF-SV.js";import{c as ee,C as te,f as T,g as E,d as ae,e as se,i as oe,h as le}from"./enums-C8EG5C38.js";const ne={class:"task-audit-detail content-container"},re={class:"detail-container"},ue={class:"detail-section"},ie={class:"detail-section"},de={class:"detail-section"},ce={class:"detail-section"},_e={class:"footer-btns"},me={class:"left"},pe={class:"right"},fe={__name:"detail",setup(ve){const D=W(),w=Y(),{locale:N}=z(),f=x(!1),C=x(!1),v=x(""),n=I({taskName:"测试任务1",channelName:"抖音",categoryId:te.FOOD,type:ee.IMAGE_TEXT,reward:100,brand:"测试品牌",groupNames:["群组1","群组2"],startTime:"2024-03-01 00:00:00",endTime:"2024-03-31 23:59:59",quota:10,unlimitedQuota:!1,fansRequired:1e3,contentRequirement:"作品要求内容",taskInfo:"任务信息内容",customFields:[{title:"字段1",type:"input",value:"测试内容1"},{title:"字段2",type:"image",value:"https://example.com/image.jpg"}]}),g=I({nickname:"测试会员",account:"test123",groupName:"群组1",isGroupOwner:!0}),_=I({applyTime:"2024-03-01 10:00:00",status:T.PENDING,rejectReason:""}),G=i=>E(ae,i,N.value),P=i=>E(se,i,N.value),S=i=>E(le,i,N.value),F=i=>oe[i],O=async()=>{try{p.success("审核通过成功"),w.back()}catch{p.error("审核通过失败")}},V=()=>{v.value="",f.value=!0},h=async()=>{if(!v.value){p.error("请输入拒绝原因");return}try{C.value=!0,p.success("审核拒绝成功"),f.value=!1,w.back()}catch{p.error("审核拒绝失败")}finally{C.value=!1}},B=()=>{},M=()=>{},Q=async i=>{};return K(()=>{Q(D.params.id)}),(i,s)=>{const l=c("a-descriptions-item"),k=c("a-descriptions"),L=c("a-tag"),U=c("a-image"),b=c("a-button"),q=c("a-space"),H=c("a-textarea"),J=c("a-modal");return d(),R("div",ne,[t($,{title:"任务审核详情",back:!0}),u("div",re,[u("div",ue,[s[2]||(s[2]=u("div",{class:"section-title"},"任务信息",-1)),t(k,{column:2},{default:e(()=>[t(l,{label:"任务名称"},{default:e(()=>[a(o(n.taskName),1)]),_:1}),t(l,{label:"平台渠道"},{default:e(()=>[a(o(n.channelName),1)]),_:1}),t(l,{label:"达人领域"},{default:e(()=>[a(o(G(n.categoryId)),1)]),_:1}),t(l,{label:"任务类型"},{default:e(()=>[a(o(P(n.type)),1)]),_:1}),t(l,{label:"任务奖励"},{default:e(()=>[a(o(n.reward)+" 元",1)]),_:1}),t(l,{label:"品牌"},{default:e(()=>[a(o(n.brand),1)]),_:1}),t(l,{label:"指定群组"},{default:e(()=>{var r;return[a(o((r=n.groupNames)==null?void 0:r.join("、")),1)]}),_:1}),t(l,{label:"任务时间"},{default:e(()=>[a(o(n.startTime)+" 至 "+o(n.endTime),1)]),_:1}),t(l,{label:"任务名额"},{default:e(()=>[a(o(n.unlimitedQuota?"不限制":n.quota),1)]),_:1}),t(l,{label:"粉丝要求"},{default:e(()=>[a(o(n.fansRequired)+" 粉丝",1)]),_:1}),t(l,{label:"作品要求"},{default:e(()=>[a(o(n.contentRequirement),1)]),_:1}),t(l,{label:"任务信息"},{default:e(()=>[a(o(n.taskInfo),1)]),_:1})]),_:1})]),u("div",ie,[s[4]||(s[4]=u("div",{class:"section-title"},"会员信息",-1)),t(k,{column:2},{default:e(()=>[t(l,{label:"会员名称"},{default:e(()=>[a(o(g.nickname)+" ",1),g.isGroupOwner?(d(),m(L,{key:0,color:"blue"},{default:e(()=>s[3]||(s[3]=[a("群主")])),_:1})):y("",!0)]),_:1}),t(l,{label:"账号"},{default:e(()=>[a(o(g.account),1)]),_:1}),t(l,{label:"所属群"},{default:e(()=>[a(o(g.groupName),1)]),_:1})]),_:1})]),u("div",de,[s[5]||(s[5]=u("div",{class:"section-title"},"报名信息",-1)),t(k,{column:2},{default:e(()=>[(d(!0),R(A,null,Z(n.customFields,r=>(d(),m(l,{key:r.title,label:r.title},{default:e(()=>[r.type==="image"?(d(),m(U,{key:0,src:r.value,width:120},null,8,["src"])):(d(),R(A,{key:1},[a(o(r.value),1)],64))]),_:2},1032,["label"]))),128))]),_:1})]),u("div",ce,[s[6]||(s[6]=u("div",{class:"section-title"},"审核信息",-1)),t(k,{column:2},{default:e(()=>[t(l,{label:"报名时间"},{default:e(()=>[a(o(_.applyTime),1)]),_:1}),t(l,{label:"审核状态"},{default:e(()=>[t(L,{color:F(_.status)},{default:e(()=>[a(o(S(_.status)),1)]),_:1},8,["color"])]),_:1}),_.status===j(T).REJECTED?(d(),m(l,{key:0,label:"拒绝原因"},{default:e(()=>[a(o(_.rejectReason),1)]),_:1})):y("",!0)]),_:1})]),u("div",_e,[u("div",me,[t(q,null,{default:e(()=>[_.status===j(T).PENDING?(d(),m(b,{key:0,type:"primary",onClick:O},{default:e(()=>s[7]||(s[7]=[a(" 审核通过 ")])),_:1})):y("",!0),_.status===j(T).PENDING?(d(),m(b,{key:1,danger:"",onClick:V},{default:e(()=>s[8]||(s[8]=[a(" 审核拒绝 ")])),_:1})):y("",!0)]),_:1})]),u("div",pe,[t(q,null,{default:e(()=>[t(b,{onClick:B},{default:e(()=>s[9]||(s[9]=[a("上一个")])),_:1}),t(b,{onClick:M},{default:e(()=>s[10]||(s[10]=[a("下一个")])),_:1})]),_:1})])])]),t(J,{open:f.value,"onUpdate:open":s[1]||(s[1]=r=>f.value=r),title:"拒绝原因",onOk:h,confirmLoading:C.value},{default:e(()=>[t(H,{value:v.value,"onUpdate:value":s[0]||(s[0]=r=>v.value=r),placeholder:"请输入拒绝原因",rows:4},null,8,["value"])]),_:1},8,["open","confirmLoading"])])}}},ye=X(fe,[["__scopeId","data-v-b1d2a88d"]]);export{ye as default};
