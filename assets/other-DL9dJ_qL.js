import{B as y,g as M,k as $}from"./enums-C8EG5C38.js";import{_ as z,r as I,a as B,b as p,d as g,c as t,w as e,e as o,o as u,F as v,j as q,g as w,k as S,h as i,t as r,l as T,x as G}from"./index-B8LRHCPB.js";const H={class:"other-bill content-container"},J={class:"table-container"},P={class:"table-header"},Q={class:"left"},W={__name:"other",setup(X){const _=I(!1),s=B({memberName:"",billType:void 0,status:void 0}),O=[{title:"会员名称",dataIndex:"memberName",key:"memberName"},{title:"账单类型",dataIndex:"billType",key:"billType"},{title:"关联任务",dataIndex:"taskName",key:"taskName"},{title:"金额",dataIndex:"amount",key:"amount",align:"right"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"结算状态",dataIndex:"status",key:"status"}],k=I([{id:1,memberName:"张三",billType:y.TASK_INCOME,amount:100,createTime:"2024-02-28 10:00:00",status:"settled"},{id:2,memberName:"李四",billType:y.TASK_INCOME,amount:200,createTime:"2024-02-28 11:00:00",status:"failed",failReason:"账户信息有误"}]),c=B({current:1,pageSize:10,total:0}),h=n=>M($,n),j=n=>({settled:"已结算",failed:"结算失败"})[n]||n,V=n=>({settled:"success",failed:"error"})[n],x=()=>{c.current=1,f()},D=()=>{Object.assign(s,{memberName:"",billType:void 0,status:void 0}),x()},E=n=>{Object.assign(c,n),f()},f=async()=>{_.value=!0;try{c.total=k.value.length}finally{_.value=!1}};return f(),(n,a)=>{const F=o("a-input"),m=o("a-form-item"),b=o("a-select-option"),N=o("a-select"),C=o("a-button"),L=o("a-space"),R=o("a-form"),U=o("a-tag"),A=o("a-tooltip"),K=o("a-table");return u(),p("div",H,[g("div",J,[g("div",P,[g("div",Q,[t(R,{layout:"inline",model:s},{default:e(()=>[t(m,{label:"会员名称"},{default:e(()=>[t(F,{value:s.memberName,"onUpdate:value":a[0]||(a[0]=l=>s.memberName=l),placeholder:"请输入会员名称","allow-clear":""},null,8,["value"])]),_:1}),t(m,{label:"账单类型"},{default:e(()=>[t(N,{value:s.billType,"onUpdate:value":a[1]||(a[1]=l=>s.billType=l),placeholder:"请选择账单类型",style:{width:"120px"},"allow-clear":""},{default:e(()=>[(u(!0),p(v,null,q(Object.values(w(y)),l=>(u(),S(b,{key:l,value:l},{default:e(()=>[i(r(h(l)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),t(m,{label:"结算状态"},{default:e(()=>[t(N,{value:s.status,"onUpdate:value":a[2]||(a[2]=l=>s.status=l),placeholder:"请选择结算状态",style:{width:"120px"},"allow-clear":""},{default:e(()=>[t(b,{value:"settled"},{default:e(()=>a[3]||(a[3]=[i("已结算")])),_:1}),t(b,{value:"failed"},{default:e(()=>a[4]||(a[4]=[i("结算失败")])),_:1})]),_:1},8,["value"])]),_:1}),t(m,null,{default:e(()=>[t(L,null,{default:e(()=>[t(C,{type:"primary",onClick:x},{default:e(()=>[i(r(n.$t("common.search")),1)]),_:1}),t(C,{onClick:D},{default:e(()=>[i(r(n.$t("common.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),t(K,{columns:O,"data-source":k.value,loading:_.value,pagination:c,onChange:E},{bodyCell:e(({column:l,record:d})=>[l.key==="billType"?(u(),p(v,{key:0},[i(r(h(d.billType)),1)],64)):T("",!0),l.key==="status"?(u(),p(v,{key:1},[t(U,{color:V(d.status)},{default:e(()=>[i(r(j(d.status)),1)]),_:2},1032,["color"]),d.status==="failed"?(u(),S(A,{key:0},{title:e(()=>[i(r(d.failReason),1)]),default:e(()=>[t(w(G),{style:{"margin-left":"4px"}})]),_:2},1024)):T("",!0)],64)):T("",!0)]),_:1},8,["data-source","loading","pagination"])])])}}},ee=z(W,[["__scopeId","data-v-2fb5b0ce"]]);export{ee as default};
