import{_ as R,i as D,a as g,r as M,j as q,A as H,k as J,v as K,b as _,c as t,d as n,w as e,e as c,F as j,n as A,l as b,o as d,h as r,t as o,g as k,U as Q,q as v,p as y,m as F}from"./index-IvzggnH7.js";import{P as W}from"./index-9YsZakzO.js";const X={class:"member-view content-container"},Y={class:"detail-container"},Z={class:"section"},tt={key:0},et={key:0},at={class:"section"},st={class:"account-list"},lt={class:"link-text-container"},nt=["href"],ot={class:"section",style:{"padding-bottom":"24px"}},it={class:"section",style:{"padding-bottom":"24px"}},rt={class:"section"},ut={__name:"view",setup(dt){const C=D(),m=K(),i=g({}),T=M([]),I=q(()=>`${H.h5Url}?inviteCode=${i.inviteCode}`),w=g({}),x=g({}),h=g({}),O=u=>{navigator.clipboard.writeText(u).then(()=>{F.success("复制成功")}).catch(()=>{F.error("复制失败")})},z=async u=>{const a=await b("member.detail",{},{urlParams:{id:m.params.id}});a.code===0&&Object.assign(i,a.data||{})},B=async u=>{const a=await b("account.list",{memberId:u});a.code===0&&(T.value=a.data.list||[])},V=async u=>{const a=await b("member.taskStats",{},{urlParams:{memberId:u}});a.code===0&&Object.assign(w,a.data||{})},$=async u=>{const a=await b("member.inviteStats",{},{urlParams:{memberId:u}});a.code===0&&Object.assign(x,a.data||{})},G=async u=>{const a=await b("member.groupsStats",{},{urlParams:{memberId:u}});a.code===0&&Object.assign(h,a.data||{})};return J(()=>{z(m.params.id),B(m.params.id),V(m.params.id),$(m.params.id),G(m.params.id)}),(u,a)=>{const l=c("a-descriptions-item"),U=c("a-avatar"),E=c("a-tag"),N=c("a-button"),P=c("a-descriptions"),L=c("a-space"),p=c("a-statistic"),f=c("a-col"),S=c("a-row");return d(),_("div",X,[t(W,{title:"会员详情",back:!0}),n("div",Y,[n("div",Z,[a[3]||(a[3]=n("div",{class:"section-title"},"会员信息",-1)),t(P,{column:2},{default:e(()=>[t(l,{label:"会员昵称"},{default:e(()=>[r(o(i.nickname),1)]),_:1}),t(l,{label:"会员账号"},{default:e(()=>[r(o(i.account),1)]),_:1}),t(l,{label:"会员头像"},{default:e(()=>[t(U,{src:i.avatar,size:"small"},{icon:e(()=>[t(k(Q))]),_:1},8,["src"])]),_:1}),t(l,{label:"性别"},{default:e(()=>[r(o(k(C).getEnumText("GenderType",i.gender)),1)]),_:1}),t(l,{label:"职业"},{default:e(()=>[r(o(k(C).getEnumText("OccupationType",i.occupation))+" ",1),i.occupation===null?(d(),_("span",tt," - ")):v("",!0)]),_:1}),t(l,{label:"电子邮箱"},{default:e(()=>[r(o(i.email||"-"),1)]),_:1}),t(l,{label:"手机号码"},{default:e(()=>[r(o(i.phone||"-"),1)]),_:1}),t(l,{label:"Telegram"},{default:e(()=>[r(o(i.telegram||"-"),1)]),_:1}),t(l,{label:"所属群组"},{default:e(()=>[(d(!0),_(j,null,A(i.groups,s=>(d(),_("div",{key:s.id},[r(o(s.groupName)+" ",1),s.isGroupOwner?(d(),y(E,{key:0,color:"blue",style:{"margin-left":"8px"}},{default:e(()=>a[1]||(a[1]=[r("群主")])),_:1})):v("",!0)]))),128)),!i.groups||!i.groups.length?(d(),_("span",et,"未加入群组")):v("",!0)]),_:1}),t(l,{label:"邀请人"},{default:e(()=>[r(o(i.inviterNickname||"-"),1)]),_:1}),t(l,{label:"邀请链接"},{default:e(()=>[n("span",null,o(I.value),1),t(N,{type:"link",size:"small",onClick:a[0]||(a[0]=s=>O(I.value))},{default:e(()=>a[2]||(a[2]=[r(" 复制 ")])),_:1})]),_:1}),t(l,{label:"账户余额"},{default:e(()=>[n("span",null,o(i.balance),1)]),_:1})]),_:1})]),n("div",at,[a[5]||(a[5]=n("div",{class:"section-title"},"账号信息",-1)),n("div",st,[(d(!0),_(j,null,A(T.value,s=>(d(),_("div",{key:s.channelId},[t(P,{column:1},{default:e(()=>[t(l,{label:"账号"},{default:e(()=>[t(L,null,{default:e(()=>[t(U,{src:s.channelIcon,size:"small"},null,8,["src"]),n("span",null,o(s.account),1),t(E,{color:"warning"},{default:e(()=>[r(o(k(C).getEnumText("AccountAuditStatus",s.accountAuditStatus)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(l,{label:"主页"},{default:e(()=>[n("div",lt,[n("a",{href:s.homeUrl,target:"_blank",class:"link-text"},o(s.homeUrl),9,nt),t(N,{type:"link",size:"small",onClick:ct=>O(s.homeUrl)},{default:e(()=>a[4]||(a[4]=[r(" 复制 ")])),_:2},1032,["onClick"])])]),_:2},1024),s.channelCustomFields.includes("fansCount")?(d(),y(l,{key:0,label:"粉丝数"},{default:e(()=>[r(o(s.fansCount),1)]),_:2},1024)):v("",!0),s.channelCustomFields.includes("friendsCount")?(d(),y(l,{key:1,label:"好友数"},{default:e(()=>[r(o(s.friendsCount),1)]),_:2},1024)):v("",!0),s.channelCustomFields.includes("postsCount")?(d(),y(l,{key:2,label:"发帖数"},{default:e(()=>[r(o(s.postsCount),1)]),_:2},1024)):v("",!0)]),_:2},1024)]))),128))])]),n("div",ot,[a[6]||(a[6]=n("div",{class:"section-title"},"任务信息",-1)),t(S,{gutter:16},{default:e(()=>[t(f,{span:6},{default:e(()=>[t(p,{title:"完成任务次数",value:w.completedTaskCount},null,8,["value"])]),_:1}),t(f,{span:6},{default:e(()=>[t(p,{title:"任务奖励",value:w.totalTaskReward,precision:2,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})]),n("div",it,[a[7]||(a[7]=n("div",{class:"section-title"},"邀请信息",-1)),t(S,null,{default:e(()=>[t(f,{span:6},{default:e(()=>[t(p,{title:"累计邀请",value:x.inviteCount},null,8,["value"])]),_:1}),t(f,{span:6},{default:e(()=>[t(p,{title:"邀请奖励",value:x.totalReward,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})]),n("div",rt,[a[8]||(a[8]=n("div",{class:"section-title"},"群组信息",-1)),t(S,null,{default:e(()=>[t(f,{span:6},{default:e(()=>[t(p,{title:"管理群数量",value:h.groupCount},null,8,["value"])]),_:1}),t(f,{span:6},{default:e(()=>[t(p,{title:"群收益",value:h.totalEarnings,prefix:"¥"},null,8,["value"])]),_:1})]),_:1})])])])}}},pt=R(ut,[["__scopeId","data-v-b23e4233"]]);export{pt as default};
