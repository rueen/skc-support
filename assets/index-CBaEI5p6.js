import{c as a,I as $,_ as P,u as S,r as v,a as U,b as L,d as p,t as _,w as s,e as c,f as j,o as B,g as h,U as M,h as b,i as N}from"./index-Bc2y6Xff.js";import{p as D}from"./request-CGi-tdZv.js";var H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function w(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),i.forEach(function(l){I(o,l,r[l])})}return o}function I(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}var g=function(e,r){var i=w({},e,r.attrs);return a($,w({},i,{icon:H}),null)};g.displayName="LockOutlined";g.inheritAttrs=!1;const R={class:"login-container"},q={class:"login-box"},C={class:"login-title"},E={__name:"index",setup(o){const e=j(),r=S(),i=v(),l=v(!1),u=U({username:"admin",password:"admin123",remember:!0}),O={username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"}]},y=async n=>{try{l.value=!0;const t={username:n.username,password:n.password},d=await D("user.login",t);d.code===0?(await r.login(d.data),e.push("/")):N.error(d.message)}catch(t){console.error(t)}finally{l.value=!1}};return(n,t)=>{const d=c("a-input"),f=c("a-form-item"),k=c("a-input-password"),x=c("a-checkbox"),z=c("a-button"),V=c("a-form");return B(),L("div",R,[p("div",q,[p("div",C,[p("h1",null,_(n.$t("app.title")),1),p("p",null,_(n.$t("login.title")),1)]),a(V,{ref_key:"formRef",ref:i,model:u,rules:O,onFinish:y},{default:s(()=>[a(f,{name:"username"},{default:s(()=>[a(d,{value:u.username,"onUpdate:value":t[0]||(t[0]=m=>u.username=m),size:"large",placeholder:n.$t("login.username")},{prefix:s(()=>[a(h(M))]),_:1},8,["value","placeholder"])]),_:1}),a(f,{name:"password"},{default:s(()=>[a(k,{value:u.password,"onUpdate:value":t[1]||(t[1]=m=>u.password=m),size:"large",placeholder:n.$t("login.password")},{prefix:s(()=>[a(h(g))]),_:1},8,["value","placeholder"])]),_:1}),a(f,null,{default:s(()=>[a(x,{checked:u.remember,"onUpdate:checked":t[2]||(t[2]=m=>u.remember=m)},{default:s(()=>[b(_(n.$t("login.rememberMe")),1)]),_:1},8,["checked"])]),_:1}),a(f,null,{default:s(()=>[a(z,{type:"primary","html-type":"submit",size:"large",loading:l.value,block:""},{default:s(()=>[b(_(n.$t("login.login")),1)]),_:1},8,["loading"])]),_:1}),t[3]||(t[3]=p("div",{class:"login-tip"}," 默认账号：admin / admin123 ",-1))]),_:1},8,["model"])])])}}},T=P(E,[["__scopeId","data-v-bfd2a851"]]);export{T as default};
